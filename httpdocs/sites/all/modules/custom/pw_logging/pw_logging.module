<?php

/**
 * @file
 * Hooks used for PW Logging module
 */





/**
 * Implements hook_entity_info().
 */
function pw_logging_entity_info() {
  $custom_entities = [];

  // the logentry entity
  $custom_entities['pwlogentry'] = [
    'label' => t('PW Logentry'),
    'base table' => 'pw_logging',
    'entity keys' => [
      'id' => 'id'
    ],
    'entity class' => '\Drupal\pw_logging\Entity\Logentry',
    'controller class' => '\Drupal\pw_logging\Entity\LogentryController',
    'module' => 'pw_logging'
  ];


  // details for the logentry for Modtool logs
  $custom_entities['pwlogentry_modtool'] = [
    'label' => t('PW Logentry Modtool details'),
    'base table' => 'pw_logging_modtool',
    'entity keys' => [
      'id' => 'id'
    ],
    'entity class' => '\Drupal\pw_logging\Entity\Details\ModtoolLogDetails',
    'controller class' => '\Drupal\pw_logging\Entity\Details\ModtoolLogDetailsController',
    'module' => 'pw_logging'
  ];
  return $custom_entities;
}


/**
 * Implements hook_permission().
 */
function pw_logging_permission() {
  return [
    'see pw logs' => [
      'title' => 'See logs for Abgeordnetenwatch',
      'description' => 'Can see logs for Abgeordnetenwatch'
    ]
  ];
}